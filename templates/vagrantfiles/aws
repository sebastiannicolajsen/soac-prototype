Vagrant.configure("2") do |config|
    config.env.enable #enable .env use
    config.vm.box = ENV["VM_BOX"]
    config.vm.box_url = ENV["VM_BOX_URL"]
    config.vm.provision :docker
    config.vm.define ENV["DROPLET_NAME"] do |droplet|
      config.vm.provider 'aws' do |aws, override|
               aws.access_key_id = ENV["PROVIDER_KEY_ID"]
               aws.secret_access_key = ENV["PROVIDER_KEY"]
               aws.keypair_name = ENV["PROVOIDER_KEYPAIR_NAME"]
               aws.instance_type = ENV["PROVIDER_INSTANCE_TYPE"]
               aws.ami = ENV["PROVIDER_AMI"]
               aws.security_groups = ENV["PROVIDER_SECURITY_GROUP"]
               override.ssh.username = ENV["PROVIDER_KEY_NAME"]
               override.ssh.private_key_path = "./key"
               provider.token = ENV["PROVIDER_TOKEN"]
               provider.image = ENV["PROVIDER_IMAGE"]
               aws.region = ENV["PROVIDER_REGION"]
        end
    droplet.vm.hostname= ENV["DROPLET_NAME"]
    droplet.vm.provision "shell", inline: <<-SHELL
    echo -e "\nOpening port for service on #{ENV["DROPLET_PORT"]} ...\n"
    ufw allow "#{ENV["DROPLET_PORT"]}/tcp"
    echo ". $HOME/.bashrc" >> $HOME/.bash_profile
    echo -e "\nComplete\n"
    SHELL
    end
end



config.vm.box = ''
   aws.instance_type = "t2.micro‚Äù
   aws.region = 'us-east-1'
   aws.ami = 'ami-20be7540'
   aws.security_groups = ['default']
   override.ssh.username = 'ubuntu'
   override.ssh.private_key_path = '~/.ssh/ssh-keypair-file'
